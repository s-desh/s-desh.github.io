{{ define "main" }}

<div class="list-container">

    {{ partial "breadcrumbs.html" . }}

    <h1>{{ .Title }}</h1>
    {{ .Content }}

    {{/* page-specific small stylesheet for work list */}}
    <link rel="stylesheet" href="{{ "/css/work.css" | relURL }}">

    {{ $paginationSize := 1}}
    {{ if (gt .Site.Params.paginationSize 0) }}
    {{ $paginationSize = .Site.Params.paginationSize }}
    {{ end }}

    {{/* Sort by weight (lower weight renders first). Set weight in front matter for manual ordering. */}}
    {{ $pages := .Pages.ByWeight }}
    {{ $paginator := .Paginate $pages $paginationSize }}

    {{ range $index, $page := $paginator.Pages }}

        {{ partial "work-entry.html" $page }}

    {{ end }}

    {{ partial "pagination-controls.html" $paginator}}

</div>
{{ end }}
